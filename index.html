<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WM Discador</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Poppins,sans-serif;background:#f4f6f9;color:#333;padding-bottom:120px}
header{display:flex;align-items:center;justify-content:space-between;padding:16px 32px;background:#fff;border-bottom:2px solid #e5e7eb}
button{padding:10px 18px;border:none;border-radius:8px;font-weight:600;cursor:pointer}
.btn-whats{background:#25D366;color:#fff}
.btn-ligar{background:#dc3545;color:#fff}
.btn-salvar{background:#ff9800;color:#fff}
.btn-reset{background:#6c757d;color:#fff}
#contador-box{margin:16px 32px;background:#fff;padding:16px;border-radius:10px}
#barra{width:100%;height:14px;background:#e5e7eb;border-radius:8px;overflow:hidden}
#progresso{height:100%;width:0;background:#25D366}
.contato-card{background:#fff;margin:16px 32px;border-radius:10px;padding:16px}
</style>
</head>
<body>

<header>
<h1>WM Discador</h1>
<button class="btn-reset" onclick="resetGeral()">Reset</button>
</header>

<div id="contador-box">
<div id="contador">ðŸ“Š Contatos feitos hoje: 0</div>
<div>ðŸŽ¯ Meta diÃ¡ria: 50</div>
<div id="barra"><div id="progresso"></div></div>
</div>

<div id="lista-contatos"></div>

<script>
const META_DIARIA=50;
const LIMITE_DIARIO_POR_NUMERO=2;
const TEMPO_SEM_RESPOSTA=48*60*60*1000;

let contatos=[];
let contatosFeitos=JSON.parse(localStorage.getItem("contatosFeitos"))||[];
let controleResposta=JSON.parse(localStorage.getItem("controleResposta"))||[];

function hoje(){return new Date().toLocaleDateString();}
function atualizarContador(){
 const total=contatosFeitos.filter(c=>c.dataHora.startsWith(hoje())).length;
 document.getElementById("contador").textContent="ðŸ“Š Contatos feitos hoje: "+total;
 document.getElementById("progresso").style.width=Math.min((total/META_DIARIA)*100,100)+"%";
}
function resetGeral(){localStorage.clear();location.reload();}
atualizarContador();
</script>

</body>
</html>